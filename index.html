<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <title>N3WS by Michi</title>
        <meta name="mobile-web-app-title" content="N3WS">
        <meta name="apple-mobile-web-app-title" content="N3WS">
        <link rel="icon" type="image/png" href="icons/logo-dark-128.png">
        <link rel="icon" type="image/svg+xml" href="icons/logo-dark.svg">
        <link rel="shortcut icon" type="image/png" href="icons/logo-dark-128.png">
        <link rel="apple-touch-icon" href="icons/logo-dark-256.png">
        <link rel="apple-touch-icon" sizes="152x152" href="icons/logo-green-256.png">
        <link rel="apple-touch-icon" sizes="180x180" href="icons/logo-green-256.png">
        <link rel="apple-touch-icon" sizes="167x167" href="icons/logo-green-256.png">
        <script src="script.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script src="https://unpkg.com/akar-icons-fonts"></script>
        <link rel="stylesheet" type="text/css" href="style.css"/>
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/aos@2.3.1/dist/aos.css"/>
        <meta name="description" content="N3WS">
        <meta name="keywords" content="News">
        <meta name="author" content="Michi von Ah">
        <meta name="robots" content="index">

        <meta http-equiv="cache-control" content="private">
        <meta http-equiv="expires" content="43200">
        <meta name="theme-color" content="#2ecc71">
        <meta name="apple-mobile-web-app-status-bar-style" content="#2ecc71">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
        <meta name="mobile-web-app-capable" content="yes">
        <link rel="manifest" href="manifest.json">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">

</head>
<body>


      <div id="navbar">
        <h1>N3WS <var id="credit" onclick="startGame();">by Michi</var></h1>
      </div>

      <div id="loadingScreen">
        <div id="loader"></div>
      </div>

      <div id="content">
        <div id="home">
          <p id="greetings">Hi!</p>
          <div id="feed">
          </div>
        </div>
        <div id="read-later">
          <h3>Read Later</h3>
          <div id="laterID1" class="news-object">
            <h1>Title</h1>
            <img src="icons/logo-green-1080.png">
            <div class="news-description">
              <p>This is an example news.</p>
              <button id="laterButtonID1"><i class="ai-cross"></i></button>
            </div>
          </div>

        </div>
        <div id="settings">
          <h3>Settings</h3>
          <div id="your-profile">
            <i class="ai-person"></i>
            <p>You</p>
          </div>
          <div id="all-feeds">
            <p>Your Feeds</p>
          </div>
          <button id="add-new-feed" onclick="addNewFeed();"><i class="ai-circle-plus-fill"></i> Add new Feed</button>
          <p>Number of News in your Feed</p>
          <select id="maxNewsPerSite" name="maxNewsPerSite" onchange="updateNumberOfFeedItems();">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option selected>5</option>
            <option>6</option>
            <option>8</option>
            <option>10</option>
            <option disabled>Custom</option>
          </select>
          <button onclick="loadFeed('defaultRSS');"><i class="ai-circle-plus-fill"></i> Reload Feed</button>
          <button onclick="resetApp();"><i class="ai-trash-can"></i> Reset this app!</button>
          <div id="otherSettings">
            <label id="showTutorialsInFeed" class="switch" name="showTutorialsInFeed">
              <input type="checkbox" id="showTutorialsInFeedCheckbox" name="showTutorialsInFeedCheckbox" disabled>
              <span class="switchSlider"></span>
              <label class="switchText" for="showTutorialsInFeedCheckbox">Show tutorials & tips in your feed</label>
            </label>
          </div>
          <h3>Credits</h3>
          <ul>
            <li>Animate on Scroll Libary - michalsnik.github.io/aos</li>
            <li>XML to JSON Converter - github.com/factmaven/xml-to-json</li>
            <li>Jquery Libary - jquery.com</li>
            <li>Akar Icons - akaricons.com</li>
            <li>Google Fonts - fonts.google.com</li>
          </ul>
        </div>
      </div>

      <div id="tutorials">
        <div id="tutorialScreen1" class="tutorialscreen">
          <img src="icons/logo-green-transparent-1080.png" alt="Logo">
          <h1 style="margin-bottom: 5px;">N3WS</h1>
          <p style="margin-top: 0; text-align: center;">by Michi</p>
          <p>This is a free news app. you can connect it to your own rss feeds and easily get an overview of the articles from your favorite portals.</p>
          <button onclick="nextWelcomePage('tutorialScreen1', 'tutorialScreen4');">Get Started</button>
        </div>
        <div id="tutorialScreen4" class="tutorialscreen">
          <i class="ai-person bigicon"></i>
          <h1>Your name!</h1>
          <p>Type in here how you want to be called and then click continue.</p>
          <input id="yourNameField" type="text" placeholder="Ben" onkeypress="if(event.key == 'Enter'){nextWelcomePage('tutorialScreen4', 'tutorialScreen2')};">
          <button onclick="nextWelcomePage('tutorialScreen4', 'tutorialScreen2');">Continue</button>
        </div>
        <div id="tutorialScreen2" class="tutorialscreen">
          <i class="ai-rss bigicon"></i>
          <h1>Add your first RSS Feed!</h1>
          <p>Type in here and then click continue.</p>
          <input id="firstRssFeed" type="url" placeholder="RSS Feed URL" onkeypress="if(event.key == 'Enter'){nextWelcomePage('tutorialScreen2', 'tutorialScreen3');};">
          <button onclick="nextWelcomePage('tutorialScreen2', 'tutorialScreen3');">Continue</button>
        </div>
        <div id="tutorialScreen3" class="tutorialscreen">
          <i class="ai-circle-check bigicon"></i>
          <h1>Ready!</h1>
          <p>Everything is now set up, let's go.</p>
          <button onclick="nextWelcomePage('tutorialScreen3', 'exit');">Finish!</button>
        </div>
      </div>



      <div id="footer">
        <p>Designed with <i class="ai-heart"></i> for your mobile devices.</p>
        <p>Version 0.0.8</p>
      </div>

      <div id="navigation">
        <div class="navigation-object" onclick="showSection('home')">
          <i class="ai-home"></i>
          <p>Home</p>
        </div>
        <div class="navigation-object" onclick="showSection('read-later')" style="display:none;">
          <i class="ai-heart"></i>
          <p>Read later</p>
        </div>
        <div class="navigation-object" onclick="showSection('settings')" style="display:block;">
          <i class="ai-gear"></i>
          <p>Settings</p>
        </div>
      </div>

      <script>
      // Loading
      window.addEventListener('load', () => {
        if(window.matchMedia('(prefers-color-scheme: dark)').matches || localStorage.getItem('darkmode') == "true"){
            document.body.style.setProperty('--color', '#f6f6f6');
            document.body.style.setProperty('--background', '#181818');
            document.body.style.setProperty('--theme', '#2ecc71');
            document.body.style.setProperty('--theme2', '#27ae60');
            document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]').setAttribute("content", "#181818");
        }
        // register service worker
        if('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js');
        }
        //
        if(localStorage.getItem('NumberOfFeedItems') == null) localStorage.setItem('NumberOfFeedItems', 5);
        // check if the app was used before
        if(localStorage.getItem('tutorials') != null) document.getElementById("tutorials").style.display = 'none';
        // set the max of news per feed
        document.getElementById('maxNewsPerSite').value = localStorage.getItem('NumberOfFeedItems');
        //document.getElementById("home").style.display = "block";
        // load the greeting text
        greetings();
        //createJSON("type");
        // load the feed items
        addNewFeed("loadFromStorage");
        loadFeed("defaultRSS");
        newFeedItem("Tutorials", "", "Click here to learn how to use this app.", "https://michivonah.notion.site/N3WS-by-Michi-b0fbb60a9eab4452a83351b3b3b35639");
        if(true == false){ // tips and tutorials how to use this app
          newFeedItem("Add your own rss feeds", "https://images.unsplash.com/photo-1586282023338-52aa50a846ba", "In this tutorial you learn how to add own rss feeds to this app.", "https://michivonah.notion.site/Add-own-RSS-Feeds-faa5f17026944a77a0ce202700dead37");
          newFeedItem("List of interesting feeds", "https://images.unsplash.com/photo-1495020689067-958852a7765e", "Here you will find a list with some interesting rss feeds to start using this app.", "https://michivonah.notion.site/List-of-interessting-Feeds-c51d9128f460456d9a54e5858637a890");
        }
        //newFeedItem("michivonah.ch", "https://michivonah.ch/images/img2.jpeg", "Hi, my name is Michi von Ah and I'm 16 years old. Click on the picture to read more.", "https://michivonah.ch");
        //newFeedItem("Michi's Escape Room", "https://michivonah.ch/icons/escaperoom-flyer.png", "As a final project for school, I programmed an Escape Room game. ", "https://escape.michivonah.ch");

        // initialize the animate on scroll libary, thx to michalsnik.github.io/aos
        //AOS.init();

        // fade out loading screen
        setTimeout(function(){
          document.getElementById('loadingScreen').style.animation = "loadFadeOut ease 750ms";
          document.getElementById('loadingScreen').style.display = "none";
        }, 250);
      });
      </script>
</body>
</html>
